{"version":3,"sources":["components/Modal/Modal.module.css","components/App/App.module.css","components/Button/Button.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.js","components/Button/Button.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","services/apiImg.js","components/App/App.js","index.js"],"names":["module","exports","SearchBar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","Button","onClick","s","ImageGalleryItem","url","alt","openModal","modalImage","gallery__card","src","modalRoot","document","querySelector","Modal","closeModal","code","console","log","onClose","closeModalClick","event","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","ImageGallery","showModal","toggleModal","images","gallery","map","webformatURL","tags","largeImageURL","id","Loader","loader","color","height","width","timeout","apiKey","getImages","seachQuery","currentPage","path","axios","get","App","isLoading","error","onChangeQuery","API","then","responseData","data","hits","catch","Error","finally","length","fetchImg","prevState","scrollTo","top","documentElement","scrollHeight","behavior","prevProps","searchQuery","shouldRenderLoadMoreButton","container","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a1a0329b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__16xz_\",\"App\":\"App_App__aOmNj\",\"App-logo\":\"App_App-logo__1UFaS\",\"App-logo-spin\":\"App_App-logo-spin__3LF-c\",\"App-header\":\"App_App-header__23Gt-\",\"App-link\":\"App_App-link__1ic5L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery__card\":\"ImageGalleryItem_gallery__card__1a5rL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__gboaM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1j2Bs\"};","import React, { Component } from 'react';\n\nclass SearchBar extends Component {\n  state = { query: '' };\n  handleChange = e => {\n    this.setState({ query: e.currentTarget.value });\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n  };\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button\n            type=\"submit\"\n            className=\"SearchForm-button\"\n            // onClick={() => onDeleteTodo(id)}\n          >\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            value={this.state.query}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            // checked={completed}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default SearchBar;\n","import React from 'react';\nimport s from '../Button/Button.module.css';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ onClick }) => (\n  <button onClick={onClick} type=\"button\" className={s.Button}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React from 'react';\n\nimport s from '../ImageGalleryItem/ImageGalleryItem.module.css';\n// import PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ url, alt, openModal, modalImage }) => {\n  return (\n    <li onClick={() => openModal(modalImage)} className={s.gallery__card}>\n      <img src={url} alt={alt} />\n    </li>\n  );\n};\n\n// ImageGalleryItem.propTypes = {\n//   openModal: PropTypes.func.isRequired,\n//   modalImage: PropTypes.string.isRequired,\n//   url: PropTypes.string.isRequired,\n//   alt: PropTypes.string.isRequired,\n// };\n\nexport default ImageGalleryItem;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from '../Modal/Modal.module.css';\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.closeModal);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.closeModal);\n  }\n  closeModal = e => {\n    if (e.code === 'Escape') {\n      console.log('Нажали ESC, нужно закрыть модалку');\n\n      this.props.onClose();\n    }\n  };\n\n  closeModalClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.closeModalClick}>\n        <div className={s.Modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n","import React, { Component } from 'react';\n// import PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Modal from '../Modal/Modal';\nimport s from '../ImageGallery/ImageGallery.module.css';\nclass ImageGallery extends Component {\n  state = {\n    showModal: false,\n    modalImage: '',\n    url: '',\n  };\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n  openModal = modalImage => {\n    this.toggleModal();\n\n    this.setState({ modalImage });\n  };\n  render() {\n    const { images } = this.props;\n    const { showModal, modalImage } = this.state;\n    return (\n      <>\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            {<img src={modalImage} alt=\"#\" />}\n          </Modal>\n        )}\n        <ul className={s.gallery}>\n          {images.map(e => (\n            <ImageGalleryItem\n              key={e.id}\n              url={e.webformatURL}\n              alt={e.tags}\n              modalImage={e.largeImageURL}\n              openModal={this.openModal}\n            />\n          ))}\n        </ul>\n      </>\n    );\n  }\n}\nexport default ImageGallery;\n","import React from 'react';\nimport Spinner from 'react-loader-spinner';\nimport s from '../Loader/Loader.module.css';\nconst Loader = () => {\n  return (\n    <div className={s.loader}>\n      <Spinner\n        type=\"Puff\"\n        color=\"#00BFFF\"\n        height={75}\n        width={75}\n        timeout={5000}\n      />\n    </div>\n  );\n};\n\nexport default Loader;\n","import axios from 'axios';\nconst apiKey = '19817444-e2944238b0133b6bab479e2af';\nexport const getImages = (seachQuery = '', currentPage = 1) => {\n  const path = `https://pixabay.com/api/?q=${seachQuery}&page=${currentPage}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`;\n  return axios.get(path);\n};\n","import React, { Component } from 'react';\nimport SearchBar from '../Searchbar/Searchbar';\nimport s from '../App/App.module.css';\nimport Button from '../Button/Button';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Loader from '../Loader/Loader';\nimport * as API from '../../services/apiImg';\n\n\nclass App extends Component {\n  state = {\n    images: [],\n    isLoading: false,\n    error: false,\n    currentPage: 1,\n    seachQuery: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { seachQuery, currentPage } = this.state;\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImg(seachQuery, currentPage);\n    }\n  }\n\n  onChangeQuery = seachQuery => {\n    this.setState({ seachQuery, isLoading: true });\n    API.getImages(seachQuery)\n      .then(responseData => {\n        this.setState({ images: responseData.data.hits });\n      })\n      .catch(error => {\n        throw new Error(error);\n      })\n      .finally(() => {\n        if (this.state.images.length >= 1) {\n          this.setState({ error: false });\n        } else {\n          this.setState({ error: true });\n        }\n        this.setState({ isLoading: false });\n      });\n  };\n  fetchImg = () => {\n    const { seachQuery, currentPage } = this.state;\n    API.getImages(seachQuery, currentPage + 1)\n      .then(responseData => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...responseData.data.hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n          if (currentPage >= 1) {\n              window.scrollTo({\n                  top: document.documentElement.scrollHeight,\n                  behavior: 'smooth',\n              });\n          }\n      })\n      .catch(error => this.setState({ error: true }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n  render() {\n    const { images, isLoading, error } = this.state;\n    const shouldRenderLoadMoreButton = images.length > 11 && !isLoading;\n    return (\n      <div className={s.container}>\n        <SearchBar onSubmit={this.onChangeQuery} />\n        {error && <h1>No image found</h1>}\n        {isLoading && <Loader />}\n        {!isLoading && <ImageGallery images={images} />}\n        {shouldRenderLoadMoreButton && <Button onClick={this.fetchImg} />}\n      </div>\n    );\n  }\n}\nexport default App;\n \n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'modern-normalize/modern-normalize.css';\nimport App from './components/App/App';\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);"],"sourceRoot":""}